/* TABLA MODELOS */ 
INSERT INTO MODELOS
VALUES(DEFAULT,'A1', 'AZAI', 8);
INSERT INTO MODELOS
VALUES(DEFAULT,'A2', 'ALEGRIA', 10);
INSERT INTO MODELOS
VALUES(DEFAULT,'A3', 'CAMILA', 12);
INSERT INTO MODELOS
VALUES(DEFAULT,'A4', 'DERBY', 14);

/* TABLA TROQUELES*/ 
INSERT INTO TROQUELES
VALUES(DEFAULT,'CAMILA');
INSERT INTO TROQUELES
VALUES(DEFAULT,'DERBY');
INSERT INTO TROQUELES
VALUES(DEFAULT,'AZAI');

/* TABLA TIPO PROCESOS*/ 
INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'MONTAJE');
INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'APARADO');
INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'TROQUELADO');

INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'SubAparado1');
INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'SubAparado2');

INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'SubTroquelado1');
INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'SubTroquelado2');

INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'SubMontaje1');
INSERT INTO TIPO_PROCESOS
VALUES(DEFAULT,'SubMontaje2');

/* TABLA CONFPROCESO*/
INSERT INTO PROCESOS
VALUES(DEFAULT,1,NULL,TRUE,'MONTAJE');
INSERT INTO PROCESOS
VALUES(DEFAULT,2,NULL,TRUE,'APARADO');
INSERT INTO PROCESOS
VALUES(DEFAULT,3,NULL,TRUE,'TROQUELADO');

INSERT INTO PROCESOS
VALUES(DEFAULT,4,2,TRUE,'SUBAPARADO1');
INSERT INTO PROCESOS
VALUES(DEFAULT,5,2,TRUE,'SUBAPARADO2');

INSERT INTO PROCESOS
VALUES(DEFAULT,6,3,TRUE,'SUBTROQUELADO1');
INSERT INTO PROCESOS
VALUES(DEFAULT,7,3,TRUE,'SUBTROQUELADO2');

INSERT INTO PROCESOS
VALUES(DEFAULT,8,1,TRUE,'SUBMONTAJE1');
INSERT INTO PROCESOS
VALUES(DEFAULT,9,1,TRUE,'SUBMONTAJE2');
/*TABLA CONFPROCESO*/
INSERT INTO CONFPROCESO
VALUES(DEFAULT,);

/* TABLA TALLAS*/
INSERT INTO TALLAS
VALUES(DEFAULT,24);
INSERT INTO TALLAS
VALUES(DEFAULT,25);
INSERT INTO TALLAS
VALUES(DEFAULT,26);
INSERT INTO TALLAS
VALUES(DEFAULT,27);
INSERT INTO TALLAS
VALUES(DEFAULT,28);
INSERT INTO TALLAS
VALUES(DEFAULT,29);
INSERT INTO TALLAS
VALUES(DEFAULT,30);
INSERT INTO TALLAS
VALUES(DEFAULT,31);
INSERT INTO TALLAS
VALUES(DEFAULT,32);
INSERT INTO TALLAS
VALUES(DEFAULT,33);
INSERT INTO TALLAS
VALUES(DEFAULT,34);
INSERT INTO TALLAS
VALUES(DEFAULT,35);
INSERT INTO TALLAS
VALUES(DEFAULT,36);
INSERT INTO TALLAS
VALUES(DEFAULT,37);
INSERT INTO TALLAS
VALUES(DEFAULT,38);
INSERT INTO TALLAS
VALUES(DEFAULT,39);
INSERT INTO TALLAS
VALUES(DEFAULT,40);
INSERT INTO TALLAS
VALUES(DEFAULT,41);
INSERT INTO TALLAS
VALUES(DEFAULT,42);
INSERT INTO TALLAS
VALUES(DEFAULT,43);
INSERT INTO TALLAS
VALUES(DEFAULT,44);

/* TABLA T_TALLAS */
INSERT INTO T_TALLAS
VALUES(1,1,3);
INSERT INTO T_TALLAS
VALUES(2,1,0);
INSERT INTO T_TALLAS
VALUES(1,2,2);
INSERT INTO T_TALLAS
VALUES(3,3,0);
INSERT INTO T_TALLAS
VALUES(2,2,0);
INSERT INTO T_TALLAS
VALUES(2,3,1);

/* TABLA TURNOS */
INSERT INTO TURNOS
VALUES(DEFAULT,'MATUTINO','06:00:00','14:00:00',NULL);
INSERT INTO TURNOS
VALUES(DEFAULT,'VESPERTINO','14:00:00','22:00:00',NULL);
INSERT INTO TURNOS
VALUES(DEFAULT,'NOCTURNO','22:00:00','06:00:00',NULL);

/* TABLA LINEASPROD */
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,3,'L1 TROQUELADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,3,'L2 TROQUELADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,3,'L3 TROQUELADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,3,'L4 TROQUELADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,2,'CELULA1 APARADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,2,'CELULA2 APARADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,2,'CELULA3 APARADO',1,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,1,'L1 MONTAJE',6,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,1,'L2 MONTAJE',6,'0',NULL);
INSERT INTO LINEASPROD(LINEAPRO_CODIGO,PRO_CODIGO,NOMLINEA,NUMMAQ,LINEAAUT,LINEA_DESC)
VALUES(DEFAULT,1,'L3 MONTAJE',6,'0',NULL);

/* MODELO ALEGRIA*/
INSERT INTO PROCESOS(PRO_CODIGO, TPR_CODIGO, PRO_PADRE,PRO_ACTIVO,PRO_DESCRIP)
VALUES(DEFAULT,1,NULL,true,'ASD');

/* TABLA ORDENES */ 
INSERT INTO ORDENPROD
VALUES(DEFAULT,1,8,NULL,CURRENT_DATE,NULL,NULL);

/* TABLA DETALLEORDEN*/ 
INSERT INTO DETALLEORDEN
VALUES(DEFAULT,1,1,1,500);
INSERT INTO DETALLEORDEN
VALUES(DEFAULT,1,1,2,20);
INSERT INTO DETALLEORDEN
VALUES(DEFAULT,1,2,3,40);
INSERT INTO DETALLEORDEN
VALUES(DEFAULT,1,3,1,600);

/* TABLA  LINEASTURNOS */ 
INSERT INTO LINEASTURNOS
VALUES(DEFAULT,1,1);
INSERT INTO LINEASTURNOS
VALUES(DEFAULT,1,2);
INSERT INTO LINEASTURNOS
VALUES(DEFAULT,1,3);

INSERT INTO LINEASTURNOS
VALUES(DEFAULT,2,1);
INSERT INTO LINEASTURNOS
VALUES(DEFAULT,2,2);

INSERT INTO LINEASTURNOS
VALUES(DEFAULT,3,1);

/* TABLA PARAMETRIZACION */ 
INSERT INTO PARAMETROS
VALUES(DEFAULT,1,8,200,0,1);

INSERT INTO PARAMETROS
VALUES(DEFAULT,2,8,100,0,2);

INSERT INTO PARAMETROS
VALUES(DEFAULT,3,8,300,0,3);

/* TABLA PROGRAMDIAS */ 
INSERT INTO PROGRAMDIAS
VALUES(DEFAULT,1,15.00,8.00,'22/11/2016','22/11/2016');
INSERT INTO PROGRAMDIAS
VALUES(DEFAULT,2,15.00,8.00,'22/11/2016','22/11/2016');
INSERT INTO PROGRAMDIAS
VALUES(DEFAULT,3,15.00,8.00,'22/11/2016','22/11/2016');

/* insartable en las columnas */
/*
ttalla -> tal_codigo
*/

/* CONSULTAS A LA BD*/
SELECT ROUND((1/SUM(TIEMPO_TS))*8*60)
FROM CONFPROCESO CONF
WHERE MOD_CODIGO = (SELECT MOD_CODIGO
FROM MODELOS
WHERE  MOD_NOMBRE = 'ALEGRIA')
AND PRO_CODIGO =(SELECT PRO_CODIGO
FROM PROCESOS
WHERE TPR_CODIGO =(SELECT TPR_CODIGO
FROM TIPO_PROCESOS
WHERE TPR_NOMBRE = 'TROQUELADO'))

SELECT ROUND((1/SUM(c.tiempoTs))*8*60)
FROM Confproceso c
WHERE c.modelo.modCodigo = (SELECT m.modCodigo
FROM Modelo m WHERE  m.modNombre = 'ALEGRIA')
AND c.proceso1.proCodigo =(SELECT p.proCodigo
FROM Proceso p
WHERE p.tipoProceso.tprCodigo =(SELECT tp.tprCodigo
FROM TipoProceso tp
WHERE tp.tprNombre = 'MONTAJE'))


/* inner join tres o mas tablas */
select t1.name, t2.image_id, t3.path
from table1 t1 inner join table2 t2 on t1.person_id = t2.person_id
inner join table3 t3 on t2.image_id=t3.image_id

/* SQL */
select op.ordenprod_codigo,pa.pro_codigo, pr.cantpares, pr.finicio, pr.ffin
from ordenprod op inner join parametros pa on op.ordenprod_codigo = pa.ordenprod_codigo
inner join programdias pr on pr.param_codigo = pa.param_codigo
where pa.pro_codigo = 1


/* HQL */
select op.ordenprodCodigo,pa.proceso.tipoProceso.tprNombre ,pr.cantpares,pr.finicio,pr.ffin 
from Ordenprod op 
inner join op.parametros as pa 
inner join pa.programdias as pr 
where pa.proceso.proCodigo = 1

/* Consulta devuelve la cantidad de lineas programadas por orden y proceso */
select count(*)
from lineasturnos lt 
inner join parametros pa on lt.param_codigo = pa.param_codigo
where pa.ordenprod_codigo = 28
and pa.pro_codigo = 1
group by lt.lineapro_codigo

/* cambiar las consultas */
interfaz lineasTurnos cambiar en el cbo proceso, este debe ir seleccionando todos los procesos 
que se configuraron en la tabla parametros.
