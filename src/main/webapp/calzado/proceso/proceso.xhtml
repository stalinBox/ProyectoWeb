<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<body>
	<ui:composition template="/WEB-INF/templates/basicTemplate.html">
		<ui:define name="content">

			<h:form id="menuStep">
				<p:growl id="growl" sticky="true" showDetail="true" />
				<p:wizard flowListener="#{procesoBean.onFlowProcess}"
					nextLabel="Siguiente" backLabel="Atras" style="width:auto">

					<p:tab id="personal" title="PROCESO">
						<p:panel header="Proceso Detalle">
							<p:messages />
							<h:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="Tipo de proceso: *" />

								<p:selectOneMenu id="idTipoProceso"
									value="#{procesoBean.procesoMapeo.tprProcesoPro}"
									required="true" style="width:150px">

									<f:selectItem itemLabel="- Seleccione -" itemValue=""
										noSelectionOption="true" />
									<f:selectItems value="#{procesoBean.selectedTprProceso}"
										label="tipoProceso" />
								</p:selectOneMenu>

								<h:outputText value="Proceso Padre: " />
								<p:selectOneMenu id="idTipoProcesoPadre"
									value="#{procesoBean.procesoMapeo.padrePro}"
									style="width:150px">

									<f:selectItem itemLabel="- Seleccione -" itemValue=""
										noSelectionOption="true" />
									<f:selectItems value="#{procesoBean.selectedListProceso}"
										label="tipoProcesoPadre" />
								</p:selectOneMenu>
							</h:panelGrid>
						</p:panel>
					</p:tab>

					<p:tab id="address" title="Modelos">
						<p:panel header="Capacidad de producción por modelo">
							<p:messages />
							<h:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="Modelo: " />
								<p:selectOneMenu id="idModeloProceso"
									value="#{procesoBean.procesoMapeo.modeloPro}"
									style="width:150px">

									<f:selectItem itemLabel="- Seleccione -" itemValue=""
										noSelectionOption="true" />
									<f:selectItems value="#{procesoBean.selectedModelo}"
										label="tipoProcesoPadre" />
								</p:selectOneMenu>

								<h:outputText value="Capacidad(pares): " />
								<p:spinner id="idCapValue"
									value="#{procesoBean.procesoMapeo.capacidadPro}" />
							</h:panelGrid>
						</p:panel>
					</p:tab>

					<p:tab id="contact3" title="Presupuestos">
						<p:panel header="Presupuestos por proceso">
							<p:messages />
							<h:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="CIF Ref: " />
								<p:spinner id="idValueCifRef"
									value="#{procesoBean.procesoMapeo.cifRefPro}" prefix="$"
									min="0" label="cifRef" stepFactor="0.01" />

								<h:outputText value="CIF Presupuestado: " />
								<p:spinner id="idValueCifPre"
									value="#{procesoBean.procesoMapeo.cifPro}" prefix="$" min="0"
									label="cifPresupuestado" stepFactor="0.01" />

							</h:panelGrid>
						</p:panel>
					</p:tab>

					<p:tab id="contact2" title="Mano de Obra">
						<p:panel header="Presupuesto por Mano de obra">
							<p:messages />
							<h:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="Costo obra: " />
								<p:spinner id="idValueCostObra"
									value="#{procesoBean.procesoMapeo.costObraPro}" prefix="$"
									min="0" label="CostoManoObra" stepFactor="0.01" />


								<h:outputText value="Costo Real: " />
								<p:spinner id="idValueCostReal"
									value="#{procesoBean.procesoMapeo.costRealPro}" prefix="$"
									min="0" label="CostoManoReal" stepFactor="0.01" />

							</h:panelGrid>
						</p:panel>
					</p:tab>

					<p:tab id="contact1" title="Personal">
						<p:panel header="Número de trabajadores">
							<p:messages />
							<h:panelGrid columns="2" columnClasses="label, value">
								<h:outputText value="Numero de trabajadores: " />
								<p:spinner id="idNumTrab"
									value="#{procesoBean.procesoMapeo.numTrabPro}"
									label="numeroTrabajadores" />

								<h:outputText value="Descripcion: " />
								<p:inputTextarea rows="6" cols="33"
									value="#{procesoBean.procesoMapeo.descPro}" label="descripcion" />
							</h:panelGrid>

						</p:panel>
					</p:tab>

					<p:tab id="confirm" title="Confirmation">
						<p:panel header="Confirmation">
							<h:panelGrid id="confirmation" columns="3"
								columnClasses="grid,grid,grid,grid,grid">

								<h:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Tipo de proceso: " />
									<h:outputText value="#{procesoBean.procesoMapeo.tprProcesoPro}"
										styleClass="outputLabel" />

									<h:outputText value="Proceso Padre: " />
									<h:outputText value="#{procesoBean.procesoMapeo.padrePro}"
										styleClass="outputLabel" />
								</h:panelGrid>

								<h:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Modelo: " />
									<h:outputText value="#{procesoBean.procesoMapeo.modeloPro}"
										styleClass="outputLabel" />

									<h:outputText value="Capacidad(pares): " />
									<h:outputText value="#{procesoBean.procesoMapeo.capacidadPro}"
										styleClass="outputLabel" />
								</h:panelGrid>

								<h:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="CIF Ref: " />
									<h:outputText value="#{procesoBean.procesoMapeo.cifRefPro}"
										styleClass="outputLabel" />

									<h:outputText value="CIF Presupuestado: " />
									<h:outputText value="#{procesoBean.procesoMapeo.cifPro}"
										styleClass="outputLabel" />

								</h:panelGrid>

								<h:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Costo obra: " />
									<h:outputText value="#{procesoBean.procesoMapeo.costObraPro}"
										styleClass="outputLabel" />

									<h:outputText value="Costo Real: " />
									<h:outputText value="#{procesoBean.procesoMapeo.costRealPro}"
										styleClass="outputLabel" />

								</h:panelGrid>

								<h:panelGrid columns="2" columnClasses="label, value">
									<h:outputText value="Numero de trabajadores: " />
									<h:outputText value="#{procesoBean.procesoMapeo.numTrabPro}"
										styleClass="outputLabel" />

									<h:outputText value="Descripcion: " />
									<h:outputText value="#{procesoBean.procesoMapeo.descPro}"
										styleClass="outputLabel" />

								</h:panelGrid>
							</h:panelGrid>

							<p:commandButton value="Submit"
								actionListener="#{procesoBean.save()}" update="growl, :menuStep"
								process="@this" />
						</p:panel>
					</p:tab>
				</p:wizard>

			</h:form>

			<h:form id="dataTablePrcesos">
				<p:dataTable var="pro" value="#{procesoBean.procesos}">
					<f:facet name="header">Tabla procesos</f:facet>
					<p:column style="width:16px">
						<p:rowToggler />
					</p:column>
					<p:column headerText="Id">
						<h:outputText value="#{pro.proCodigo}" />
					</p:column>

					<p:rowExpansion>
						<p:panelGrid columns="2" style="width:300px">

							<h:outputText value="Proceso:" />
							<h:outputText value="#{pro.tipoProceso.tprNombre}" />

							<h:outputText value="Padre Proceso:" />
							<h:outputText value="#{pro.proceso.tipoProceso.tprNombre}" />

							<h:outputText value="Modelo:" />
							<h:outputText value="#{pro.modelo.modNombre}" />

							<h:outputText value="Capacidad Produccion:" />
							<h:outputText value="#{pro.proTs} " />

							<h:outputText value="CIF REF:" />
							<h:outputText value="$#{pro.proCifref}" />

							<h:outputText value="CIF PRESUPUESTADO:" />
							<h:outputText value="$#{pro.proCifpre}" />

							<h:outputText value="Mano de Obra:" />
							<h:outputText value="$#{pro.proCostmanobra}" />

							<h:outputText value="Mano de Obra Real:" />
							<h:outputText value="$#{pro.proCostmanreal}" />

							<h:outputText value="Numero de trabajadores:" />
							<h:outputText value="#{pro.proNumTrab}" />

						</p:panelGrid>
					</p:rowExpansion>
				</p:dataTable>
			</h:form>

		</ui:define>
	</ui:composition>
</body>
</html>
